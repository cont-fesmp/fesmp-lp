<section id="matricula" class="section">
  <div class="nova-container animate-on-scroll">  <!-- Adicionei 'animate-on-scroll' para o observer detectar -->
    <!-- Imagem alinhada ao topo-esquerdo (removi 'slide-in-left') -->
    <img src="/images/matricula.png" alt="FESMP/MT" class="nova-imagem">
    
    <!-- Div sobreposta alinhada ao fundo-direito, com texto e botão (removi 'slide-in-right') -->
    <div class="nova-overlay">
      <div class="nova-conteudo">
        <h2>Matrícula Digital</h2>
        <p>Com a matrícula online, você faz todo o processo de forma rápida, segura e sem sair de casa.</p>
         
        <div class="hero-actions">
          <a
            href="https://fundacaoescola.escolaweb.com.br/matriculaonline/#/home"
            class="btn btn-primary btn-lg"
            target="_blank"
          >
            <i class="fas fa-graduation-cap"></i> Faça sua Matrícula
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
/* ===== BOTÃO DE MATRÍCULA SOBREPOSTO ===== */
.hero-actions {
  text-align: left;
  margin-top: 20px;
}

.hero-actions .btn {
  font-size: 1rem;
  padding: 10px 20px;
}

.hero-actions .btn-lg {
  font-size: 1rem !important;
  padding: 10px 20px !important;
}

/* Container principal */
.nova-container {
  max-width: 1200px;
  min-height: 520px; /* Mudança: min-height ao invés de height fixa para flexibilidade */
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow: hidden;
  width: 100%;
  margin: 0 auto;
  box-sizing: border-box; /* Adicionado para consistência */
}

/* Imagem: Agora usa unidades relativas para responsividade */
.nova-imagem {
  position: absolute;
  top: 0;
  left: 0;
  width: 70vw; /* Mudança: ~70% da largura da viewport para adaptação */
  max-width: 853px; /* Limite máximo para telas grandes */
  height: 40vh; /* Mudança: ~40% da altura da viewport */
  max-height: 420px;
  object-fit: cover;
  z-index: 1;
  border-radius: 50px;
}

/* Div sobreposta: Mesmo tamanho relativo da imagem */
.nova-overlay {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 55vw; /* Mudança: ~65% da largura da viewport */
  max-width: 800px; /* Limite máximo */
  height: 45vh; /* Mudança: ~35% da altura da viewport */
  max-height: 420px;
  background: linear-gradient(135deg, #2D7A3E 0%, #1F5A2C 100%);
  display: flex;
  align-items: center;
  justify-content: flex-start;
  z-index: 2;
  color: #E3EFE6;
  padding: 20px;
  box-sizing: border-box;
  border-radius: 50px;
}

/* Conteúdo dentro da overlay */
.nova-conteudo {
  text-align: left;
  margin-left: 40px;
}

.nova-conteudo h2 {
  font-size: 3rem;
  margin-bottom: 10px;
}

.nova-conteudo p {
  font-size: 1.2rem;
  margin-bottom: 20px;
}

/* Keyframes para animações (mantidos iguais) */
@keyframes slideInLeft {
  0% {
    transform: translateX(-100%);
    opacity: 0;
  }
  100% {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slideInRight {
  0% {
    transform: translateX(100%);
    opacity: 0;
  }
  100% {
    transform: translateX(0);
    opacity: 1;
  }
}

/* Animações só ativam com 'animate' (adicionada pelo JS) */
.nova-imagem.animate {
  animation: slideInLeft 1.4s ease-out forwards;
  animation-delay: 0.4s;
  opacity: 0;
}

.nova-overlay.animate {
  animation: slideInRight 1.4s ease-out forwards;
  animation-delay: 0.8s;
  opacity: 0;
}

/* Responsividade: Ajustes para tablets e animações mais rápidas */
@media (max-width: 1024px) {
  .nova-container {
    min-height: 400px;
  }
  
  .nova-imagem {
    width: 60vw;
    height: 35vh;
  }
  
  .nova-overlay {
    width: 55vw;
    height: 30vh;
  }
  
  .nova-conteudo h2 {
    font-size: 1.5rem;
  }
  
  .nova-conteudo p {
    font-size: 1rem;
  }
  
  .nova-imagem.animate,
  .nova-overlay.animate {
    animation-duration: 0.8s;
  }
  
  .nova-imagem.animate {
    animation-delay: 0.1s;
  }
  
  .nova-overlay.animate {
    animation-delay: 0.3s;
  }
}

/* Responsividade: Em telas menores (tablets/mobiles), muda para layout vertical */
@media (max-width: 768px) {
  .nova-container {
    flex-direction: column; /* Mudança: Empilha verticalmente */
    min-height: auto; /* Altura automática para conteúdo */
    align-items: stretch;
    justify-content: flex-start;
    padding: 20px; /* Espaço interno para evitar bordas */
  }
  
  .nova-imagem {
    position: static; /* Remove absoluto para fluxo normal */
    width: 100%; /* Largura total */
    height: auto;
    max-height: 250px;
    margin-bottom: 20px; /* Espaço entre imagem e overlay */
  }
  
  .nova-overlay {
    position: static; /* Remove absoluto */
    width: 100%; /* Largura total */
    height: auto;
    padding: 20px;
    justify-content: center; /* Centraliza conteúdo */
  }
  
  .nova-conteudo {
    margin-left: 0;
    text-align: center; /* Centraliza texto e botão para melhor UX */
  }
  
  .hero-actions {
    text-align: center; /* Centraliza botão */
  }
  
  .nova-conteudo h2 {
    font-size: 1.2rem;
  }
  
  .nova-conteudo p {
    font-size: 0.9rem;
  }
  
  /* Desabilita animações em mobile para evitar problemas */
  .nova-imagem.animate,
  .nova-overlay.animate {
    animation: none;
    opacity: 1;
  }
}

/* Responsividade: Em telas muito pequenas (celulares), ajustes finais */
@media (max-width: 480px) {
  .nova-container {
    padding: 10px; /* Reduz padding */
  }
  
  .nova-imagem {
    max-height: 200px; /* Imagem menor */
    border-radius: 20px; /* Bordas menores */
  }
  
  .nova-overlay {
    padding: 15px;
    border-radius: 20px;
  }
  
  .nova-conteudo h2 {
    font-size: 1rem;
  }
  
  .nova-conteudo p {
    font-size: 0.8rem;
  }
  
  .hero-actions .btn {
    font-size: 0.9rem;
    padding: 8px 16px;
  }
}
</style>