<section class="hero">
  <!-- CARROSSEL CENTRALIZADO (AGORA OCUPA TODO O HERO) -->
  <div class="carousel">
    <div class="slide active" style="background-image:url('/images/hero/hero1.png')"></div>
    <div class="slide" style="background-image:url('/images/hero/hero2.png')"></div>
    <div class="slide" style="background-image:url('/images/hero/hero3.png')"></div>
  </div>

  <!-- BOTÃO DE MATRÍCULA SOBREPOSTO NO CENTRO INFERIOR -->
  <div class="hero-actions">
    <a
      href="https://fundacaoescola.escolaweb.com.br/matriculaonline/#/home"
      class="btn btn-primary btn-lg"
      target="_blank"
    >
      <i class="fas fa-graduation-cap"></i> Faça sua Matrícula
    </a>
  </div>

  <!-- BULLETS DE CONTROLE ABAIXO DO BOTÃO -->
  <div class="carousel-bullets">
    <span class="bullet active" data-slide="0"></span>
    <span class="bullet" data-slide="1"></span>
    <span class="bullet" data-slide="2"></span>
  </div>
</section>

<style>
/* ===== HERO BASE ===== */
.hero {
  max-width: 1200px;  /* ADICIONADO: Limita largura máxima do site para evitar overflow */
  aspect-ratio: 16/9;  /* Força proporção 16:9 baseada na escala 1600x900 das imagens */
  display: flex;
  align-items: center;
  justify-content: center;  /* Centraliza o carrossel */
  position: relative;  /* Para posicionar o botão e bullets sobrepostos */
  background: #ffffff;
  color: white;
  overflow: hidden;  /* Garante que o carrossel não transborde */
  width: 100%;  /* Largura total até o max-width */
  margin: 0 auto;  /* Centraliza horizontalmente no site */
}

/* ===== CAROUSEL (AGORA CENTRALIZADO E OCUPANDO TODO O ESPAÇO) ===== */
.carousel,
.slide {
  width: 100%;
  height: 100%;
  position: absolute;  /* Mantém o efeito de slides sobrepostos */
  inset: 0;
}

.slide {
  background-size: cover;  /* Mantém cover para cobrir, mas ajustável para contain se quiser sem cortes */
  background-position: center;  /* Centralizado para melhor foco */
  background-repeat: no-repeat;  /* Evita repetição da imagem */
  opacity: 0;
  transition: opacity 1s ease-in-out, transform 6s ease;
  border-radius: 50px;  /* Bordas arredondadas nas imagens */
  overflow: hidden;  /* Garante que as bordas arredondadas sejam aplicadas */
}

.slide.active {
  opacity: 1;
  transform: scale(1);
}

/* ===== BOTÃO DE MATRÍCULA SOBREPOSTO ===== */
.hero-actions {
  position: absolute;
  bottom: 6rem;  /* Levantado um pouco para dar espaço aos bullets abaixo */
  left: 50%;
  transform: translateX(-50%);  /* Centraliza horizontalmente */
  z-index: 10;  /* Fica acima do carrossel */
}

/* ===== BULLETS DE CONTROLE ===== */
.carousel-bullets {
  position: absolute;
  bottom: 2rem;  /* Posicionado abaixo do botão */
  left: 50%;
  transform: translateX(-50%);  /* Centraliza horizontalmente */
  display: flex;
  gap: 0.5rem;  /* Espaço entre bullets */
  z-index: 10;  /* Fica acima do carrossel */
  background-color: rgba(255, 255, 255, 0.9);  /* Fundo branco semi-transparente maior atrás dos bullets */
  padding: 0.5rem 1rem;  /* Espaço interno para o fundo maior */
  border-radius: 25px;  /* Arredondado para combinar com o estilo */
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);  /* Sombra leve para destaque */
}

.bullet {
  width: 20px;  /* Mantido seu ajuste: maior em desktop */
  height: 20px;
  background-color: #ffffff;  /* Fundo branco */
  border: 2px solid #ff0000;  /* Borda vermelha */
  border-radius: 50%;  /* Arredondado */
  cursor: pointer;
  transition: background-color 0.3s ease, border-color 0.3s ease;
}

.bullet.active {
  background-color: #ff0000;  /* Fundo vermelho quando ativo */
  border-color: #ff0000;  /* Borda vermelha */
}

.bullet:hover {
  background-color: #ff0000;  /* Efeito hover: fundo vermelho */
}

/* ===== RESPONSIVO ===== */
@media (max-width: 768px) {
  .hero {
    max-width: 100%;  /* Em mobile, largura total para responsividade */
    aspect-ratio: 16/9;  /* Mantém proporção 16:9 */
    min-height: 40vh;  /* AJUSTADO: Altura menor em mobile para espaço, mas aspect-ratio prioriza */
  }

  .hero-actions {
    bottom: 4rem;  /* Levantado em mobile para espaço aos bullets */
  }

  .carousel-bullets {
    bottom: 1rem;  /* Ajusta posição em mobile */
    padding: 0.4rem 0.8rem;  /* Padding menor em mobile */
  }

  .bullet {
    width: 15px;  /* Mantido seu ajuste: menor em mobile */
    height: 15px;
  }

  .slide {
    border-radius: 10px;  /* Bordas menos arredondadas em telas menores para melhor adaptação */
    background-size: cover;  /* Mantém cover, mas se quiser sem cortes, mude para 'contain' aqui */
  }
}

/* Media query para tablets (opcional, mas ajuda na transição) */
@media (max-width: 1024px) and (min-width: 769px) {
  .hero {
    max-width: 1200px;  /* Mantém limite em tablets */
    aspect-ratio: 16/9;
  }
}
</style>

<script>
  (function () {
    const slides = document.querySelectorAll('.slide');
    const bullets = document.querySelectorAll('.bullet');
    let index = 0;

    // Função para atualizar slides e bullets
    function updateCarousel(newIndex) {
      slides[index].classList.remove('active');
      bullets[index].classList.remove('active');
      index = newIndex;
      slides[index].classList.add('active');
      bullets[index].classList.add('active');
    }

    // Navegação automática
    setInterval(() => {
      const nextIndex = (index + 1) % slides.length;
      updateCarousel(nextIndex);
    }, 5000);

    // Navegação manual via bullets
    bullets.forEach((bullet, i) => {
      bullet.addEventListener('click', () => {
        updateCarousel(i);
      });
    });
  })();
</script>